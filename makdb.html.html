<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myApiKrypto Dashboard v1.0.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .fear-extreme { background: linear-gradient(90deg, #dc2626 0%, #f97316 100%); }
        .fear-greed { background: linear-gradient(90deg, #f97316 0%, #fbbf24 50%, #84cc16 100%); }
        .neutral { background: linear-gradient(90deg, #fbbf24 0%, #84cc16 100%); }
        .greed-extreme { background: linear-gradient(90deg, #84cc16 0%, #10b981 100%); }
        .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white p-4">
    
    <!-- Header -->
    <div class="gradient-bg p-6 rounded-lg mb-6 text-center">
        <h1 class="text-3xl font-bold">üêù myApiKrypto Dashboard</h1>
        <p class="text-sm mt-2 opacity-90">v1.0.0 - GitHub Pages Edition | <span id="statusBadge" class="pulse">üîÑ Naƒç√≠t√°m...</span></p>
        <p class="text-xs mt-1 opacity-75">Posledn√≠ aktualizace: <span id="updateTime"></span></p>
    </div>

    <!-- Fear & Greed Index -->
    <div class="bg-gray-800 rounded-lg p-6 mb-6">
        <h2 class="text-xl font-bold mb-4">üìä FEAR & GREED INDEX</h2>
        <div class="text-center">
            <div class="text-6xl font-bold mb-4" id="fearValue">--</div>
            <div class="h-8 rounded-full mb-4" id="fearBar"></div>
            <div class="text-2xl font-semibold mb-2" id="fearLabel">Naƒç√≠t√°m...</div>
            <div class="text-gray-400" id="fearDesc">ƒåek√°m na data</div>
        </div>
        <div class="mt-4 text-xs text-gray-500 flex justify-between">
            <span>0 - Extr√©mn√≠ strach</span>
            <span>100 - Extr√©mn√≠ chamtivost</span>
        </div>
    </div>

    <!-- Akƒçn√≠ souhrn -->
    <div class="bg-gradient-to-r from-yellow-600 to-yellow-700 rounded-lg p-6 mb-6">
        <h2 class="text-xl font-bold mb-3">‚ö° AKƒåN√ç SOUHRN PRO DNES</h2>
        <div class="space-y-2" id="actionSummary">
            <div class="flex items-center gap-2">
                <span class="text-2xl">‚è≥</span>
                <span class="font-semibold">Naƒç√≠t√°m doporuƒçen√≠...</span>
            </div>
        </div>
    </div>

    <!-- BTC & ETH Grafy -->
    <div class="grid md:grid-cols-2 gap-6 mb-6">
        <!-- BTC -->
        <div class="bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-bold mb-4">‚Çø BTC vs MA200</h3>
            <div class="bg-gray-900 rounded h-48 mb-4 flex items-center justify-center">
                <div class="text-center">
                    <div class="text-4xl font-bold text-green-400" id="btcPrice">--</div>
                    <div class="text-sm text-gray-400 mt-2">24h: <span id="btcChange">--</span></div>
                </div>
            </div>
            <div class="flex items-center justify-between">
                <div>
                    <div class="text-sm text-gray-400">Status MA200</div>
                    <div class="text-lg font-semibold text-green-400" id="btcMA200">‚è≥ Poƒç√≠t√°m</div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-400">Trend</div>
                    <div class="text-lg font-semibold text-green-400" id="btcTrend">--</div>
                </div>
            </div>
        </div>

        <!-- ETH -->
        <div class="bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-bold mb-4">‚ü† ETH vs MA200</h3>
            <div class="bg-gray-900 rounded h-48 mb-4 flex items-center justify-center">
                <div class="text-center">
                    <div class="text-4xl font-bold text-green-400" id="ethPrice">--</div>
                    <div class="text-sm text-gray-400 mt-2">24h: <span id="ethChange">--</span></div>
                </div>
            </div>
            <div class="flex items-center justify-between">
                <div>
                    <div class="text-sm text-gray-400">Status MA200</div>
                    <div class="text-lg font-semibold text-green-400" id="ethMA200">‚è≥ Poƒç√≠t√°m</div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-400">Trend</div>
                    <div class="text-lg font-semibold text-green-400" id="ethTrend">--</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ETF Flows -->
    <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div class="bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-bold mb-4">üíº BTC ETF FLOWS</h3>
            <div class="text-center">
                <div class="text-4xl font-bold text-green-400 mb-2">+$676M</div>
                <div class="text-sm text-gray-400 mb-4">1.10.2025</div>
                <div class="flex items-center justify-center gap-2">
                    <span class="text-2xl">‚úÖ</span>
                    <span class="font-semibold">Instituce kupuj√≠</span>
                </div>
            </div>
        </div>

        <div class="bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-bold mb-4">üíº ETH ETF FLOWS</h3>
            <div class="text-center">
                <div class="text-4xl font-bold text-green-400 mb-2">+$303M</div>
                <div class="text-sm text-gray-400 mb-4">≈ò√≠jen 2025</div>
                <div class="flex items-center justify-center gap-2">
                    <span class="text-2xl">‚úÖ</span>
                    <span class="font-semibold">Pozitivn√≠ tok</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ETH/BTC Pomƒõr -->
    <div class="bg-gray-800 rounded-lg p-6 mb-6">
        <h3 class="text-lg font-bold mb-4">üìà ETH/BTC POMƒöR</h3>
        <div class="text-center">
            <div class="text-4xl font-bold mb-3" id="ethBtcRatio">--</div>
            <div class="h-24 bg-gray-900 rounded mb-4 flex items-center justify-center">
                <div class="text-sm text-gray-400">Pomƒõr ETH/BTC</div>
            </div>
            <div class="text-lg" id="ethBtcTrend">‚è≥ Poƒç√≠t√°m...</div>
        </div>
    </div>

    <!-- Portfolio -->
    <div class="bg-gradient-to-br from-purple-900 to-purple-800 rounded-lg p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold">üí∞ MOJE PORTFOLIO</h2>
            <span class="bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold">DEMO</span>
        </div>
        
        <div class="space-y-4">
            <div class="bg-black bg-opacity-30 rounded-lg p-4">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-semibold">‚Çø Bitcoin</span>
                    <span class="text-sm text-gray-300">0.00125 BTC</span>
                </div>
                <div class="flex justify-between items-center">
                    <div>
                        <div class="text-sm text-gray-400">N√°kup @ $121,939</div>
                        <div class="text-lg font-bold text-gray-300" id="btcValue">-- Kƒç</div>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold" id="btcProfit">--</div>
                        <div class="text-sm text-gray-400" id="btcProfitCzk">--</div>
                    </div>
                </div>
            </div>

            <div class="bg-black bg-opacity-30 rounded-lg p-4">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-semibold">‚ü† Ethereum</span>
                    <span class="text-sm text-gray-300">0.0145 ETH</span>
                </div>
                <div class="flex justify-between items-center">
                    <div>
                        <div class="text-sm text-gray-400">N√°kup @ $4,485</div>
                        <div class="text-lg font-bold text-gray-300" id="ethValue">-- Kƒç</div>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold" id="ethProfit">--</div>
                        <div class="text-sm text-gray-400" id="ethProfitCzk">--</div>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-600 pt-4">
                <div class="flex justify-between items-center">
                    <div>
                        <div class="text-sm text-gray-400">Celkem</div>
                        <div class="text-2xl font-bold" id="totalValue">-- Kƒç</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-400">Zisk/Ztr√°ta</div>
                        <div class="text-3xl font-bold" id="totalProfit">--</div>
                        <div class="text-lg" id="totalProfitCzk">--</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-6 text-center text-sm text-gray-500">
        <p>üêù Vƒçela≈ôsk√Ω dashboard | Auto-update z API</p>
    </div>

    <script>
        const EXCHANGE_RATE = 23;
        const portfolio = {
            btc: { amount: 0.00125, buyPrice: 121939 },
            eth: { amount: 0.0145, buyPrice: 4485 }
        };
        let currentPrices = { btc: 0, eth: 0 };

        async function fetchFearGreed() {
            try {
                const response = await fetch('https://api.alternative.me/fng/');
                const data = await response.json();
                const fearValue = parseInt(data.data[0].value);
                updateFearGreed(fearValue);
                return fearValue;
            } catch (error) {
                console.warn('Fear & Greed offline, pou≈æ√≠v√°m 71');
                updateFearGreed(71);
                return 71;
            }
        }

        async function fetchPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true');
                const data = await response.json();
                
                currentPrices.btc = data.bitcoin.usd;
                currentPrices.eth = data.ethereum.usd;
                
                document.getElementById('btcPrice').textContent = `$${currentPrices.btc.toLocaleString()}`;
                document.getElementById('ethPrice').textContent = `$${currentPrices.eth.toLocaleString()}`;
                
                const btcChange = data.bitcoin.usd_24h_change.toFixed(2);
                const ethChange = data.ethereum.usd_24h_change.toFixed(2);
                
                document.getElementById('btcChange').textContent = `${btcChange >= 0 ? '+' : ''}${btcChange}%`;
                document.getElementById('btcChange').className = btcChange >= 0 ? 'text-green-400' : 'text-red-400';
                
                document.getElementById('ethChange').textContent = `${ethChange >= 0 ? '+' : ''}${ethChange}%`;
                document.getElementById('ethChange').className = ethChange >= 0 ? 'text-green-400' : 'text-red-400';
                
                updateMA200Status(currentPrices.btc, 'btc');
                updateMA200Status(currentPrices.eth, 'eth');
                updateEthBtcRatio();
                calculateProfits();
                
            } catch (error) {
                console.warn('CoinGecko offline, pou≈æ√≠v√°m fallback');
                currentPrices.btc = 121939;
                currentPrices.eth = 4485;
                document.getElementById('btcPrice').textContent = '$121,939';
                document.getElementById('ethPrice').textContent = '$4,485';
                updateMA200Status(currentPrices.btc, 'btc');
                updateMA200Status(currentPrices.eth, 'eth');
                updateEthBtcRatio();
                calculateProfits();
            }
        }

        function updateFearGreed(value) {
            document.getElementById('fearValue').textContent = value;
            let label, desc, color, barClass;
            
            if (value <= 25) {
                label = 'Extr√©mn√≠ strach'; desc = 'üíö KUPUJ!'; color = 'text-red-400'; barClass = 'fear-extreme';
            } else if (value <= 45) {
                label = 'Strach'; desc = 'üü¢ Dobr√° p≈ô√≠le≈æitost'; color = 'text-orange-400'; barClass = 'fear-extreme';
            } else if (value <= 55) {
                label = 'Neutr√°l'; desc = '‚è∏Ô∏è Vyƒçk√°vej'; color = 'text-yellow-400'; barClass = 'neutral';
            } else if (value <= 75) {
                label = 'Chamtivost'; desc = '‚ö†Ô∏è Dr≈æ, neriskuj'; color = 'text-green-400'; barClass = 'fear-greed';
            } else {
                label = 'Extr√©mn√≠ chamtivost'; desc = 'üö® PRODEJ zisky!'; color = 'text-green-500'; barClass = 'greed-extreme';
            }
            
            document.getElementById('fearLabel').textContent = label;
            document.getElementById('fearLabel').className = 'text-2xl font-semibold mb-2 ' + color;
            document.getElementById('fearDesc').textContent = desc;
            document.getElementById('fearBar').className = 'h-8 rounded-full mb-4 ' + barClass;
            updateActionSummary(value);
        }

        function updateActionSummary(fearValue) {
            let details;
            if (fearValue <= 30) {
                details = '<div class="flex items-center gap-2"><span class="text-2xl">üü¢</span><span class="font-semibold">NAKUPUJ</span></div><div class="text-sm opacity-90">üìä Extr√©mn√≠ strach = akumulace</div><div class="text-sm opacity-90">üí∞ Alokuj 10-20% (DCA)</div>';
            } else if (fearValue <= 55) {
                details = '<div class="flex items-center gap-2"><span class="text-2xl">üü°</span><span class="font-semibold">DR≈Ω√ç & ƒåEKEJ</span></div><div class="text-sm opacity-90">üìä Neutr√°ln√≠ trh</div>';
            } else if (fearValue <= 75) {
                details = '<div class="flex items-center gap-2"><span class="text-2xl">‚ö†Ô∏è</span><span class="font-semibold">DR≈Ω√ç - Opatrnƒõ</span></div><div class="text-sm opacity-90">üìä Chamtivost roste</div><div class="text-sm opacity-90">üí∞ ≈Ω√ÅDN√â n√°kupy</div>';
            } else {
                details = '<div class="flex items-center gap-2"><span class="text-2xl">üö®</span><span class="font-semibold">PRODEJ zisky!</span></div><div class="text-sm opacity-90">üìä Extr√©m = vrchol</div><div class="text-sm opacity-90">üí∞ Realizuj 30-50%</div>';
            }
            document.getElementById('actionSummary').innerHTML = details;
        }

        function updateMA200Status(currentPrice, coin) {
            const ma200 = coin === 'btc' ? 95000 : 3500;
            const isAbove = currentPrice > ma200;
            const statusEl = document.getElementById(`${coin}MA200`);
            const trendEl = document.getElementById(`${coin}Trend`);
            
            if (isAbove) {
                statusEl.innerHTML = '‚úÖ NAD MA200';
                statusEl.className = 'text-lg font-semibold text-green-400';
                trendEl.textContent = 'B√Ωƒç√≠';
                trendEl.className = 'text-lg font-semibold text-green-400';
            } else {
                statusEl.innerHTML = '‚ùå POD MA200';
                statusEl.className = 'text-lg font-semibold text-red-400';
                trendEl.textContent = 'Medvƒõd√≠';
                trendEl.className = 'text-lg font-semibold text-red-400';
            }
        }

        function updateEthBtcRatio() {
            const ratio = (currentPrices.eth / currentPrices.btc).toFixed(4);
            document.getElementById('ethBtcRatio').textContent = ratio;
            document.getElementById('ethBtcTrend').textContent = ratio > 0.037 ? '‚û°Ô∏è ETH roste rychleji' : '‚¨ÖÔ∏è BTC dominuje';
        }

        function calculateProfits() {
            const btcValue = portfolio.btc.amount * currentPrices.btc * EXCHANGE_RATE;
            const btcBuyValue = portfolio.btc.amount * portfolio.btc.buyPrice * EXCHANGE_RATE;
            const btcProfit = ((currentPrices.btc - portfolio.btc.buyPrice) / portfolio.btc.buyPrice * 100).toFixed(2);
            const btcProfitCzk = (btcValue - btcBuyValue).toFixed(0);

            const ethValue = portfolio.eth.amount * currentPrices.eth * EXCHANGE_RATE;
            const ethBuyValue = portfolio.eth.amount * portfolio.eth.buyPrice * EXCHANGE_RATE;
            const ethProfit = ((currentPrices.eth - portfolio.eth.buyPrice) / portfolio.eth.buyPrice * 100).toFixed(2);
            const ethProfitCzk = (ethValue - ethBuyValue).toFixed(0);

            const totalValue = btcValue + ethValue;
            const totalBuyValue = btcBuyValue + ethBuyValue;
            const totalProfit = ((totalValue - totalBuyValue) / totalBuyValue * 100).toFixed(2);
            const totalProfitCzk = (totalValue - totalBuyValue).toFixed(0);

            document.getElementById('btcValue').textContent = btcValue.toFixed(0) + ' Kƒç';
            document.getElementById('btcProfit').textContent = (btcProfit >= 0 ? '+' : '') + btcProfit + '%';
            document.getElementById('btcProfit').className = btcProfit >= 0 ? 'text-2xl font-bold text-green-400' : 'text-2xl font-bold text-red-400';
            document.getElementById('btcProfitCzk').textContent = (btcProfitCzk >= 0 ? '+' : '') + btcProfitCzk + ' Kƒç';

            document.getElementById('ethValue').textContent = ethValue.toFixed(0) + ' Kƒç';
            document.getElementById('ethProfit').textContent = (ethProfit >= 0 ? '+' : '') + ethProfit + '%';
            document.getElementById('ethProfit').className = ethProfit >= 0 ? 'text-2xl font-bold text-green-400' : 'text-2xl font-bold text-red-400';
            document.getElementById('ethProfitCzk').textContent = (ethProfitCzk >= 0 ? '+' : '') + ethProfitCzk + ' Kƒç';

            document.getElementById('totalValue').textContent = totalValue.toFixed(0) + ' Kƒç';
            document.getElementById('totalProfit').textContent = (totalProfit >= 0 ? '+' : '') + totalProfit + '%';
            document.getElementById('totalProfit').className = totalProfit >= 0 ? 'text-3xl font-bold text-green-400' : 'text-3xl font-bold text-red-400';
            document.getElementById('totalProfitCzk').textContent = (totalProfitCzk >= 0 ? '+' : '') + totalProfitCzk + ' Kƒç';
        }

        async function init() {
            document.getElementById('updateTime').textContent = new Date().toLocaleString('cs-CZ');
            await Promise.all([fetchFearGreed(), fetchPrices()]);
            document.getElementById('statusBadge').textContent = '‚úÖ Live';
            document.getElementById('statusBadge').className = '';
        }

        init();
    </script>
</body>
</html>